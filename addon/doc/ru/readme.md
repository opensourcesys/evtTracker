# Отслеживание Событий #

* Автор: Joseph Lee, Thiago Seus

Это дополнение выводит информацию об объектах, для которых были запущены
события. Свойства, записанные в режиме журнала отладки, включают тип
объекта, имя, роль, событие, модуль приложения и информацию, относящуюся к
API специальных возможностей, такую как accName для объекта IAccessible и
идентификатор автоматизации для объектов UIA.

Примечания:

* Это дополнение предназначено для разработчиков и опытных пользователей,
  которым необходимо отслеживать события, происходящие из приложений и
  различных элементов управления.
* Чтобы использовать дополнение, NVDA должна входить в систему в режиме
  отладки (настроенной на основе общих настроек/уровня ведения журнала или
  перезапущенной с включенным ведением журнала отладки).
* Возможно, что дополнения, загруженные раньше, чем Отслеживание Событий,
  могут не передавать события другим дополнениям, включая Отслеживанию
  Событий. Если это произойдёт, Отслеживание Событий не сможет
  регистрировать события.
* События обрабатываются из глобальных плагинов, модулей приложений,
  древовидных перехватчиков и объектов NVDA в указанном порядке.

## События и информация о них

Отслеживаются и записываются следующие события:

* Манипулирование фокусом: получение фокуса, потеря фокуса, ввод фокуса,
  передний план
* Изменения: название, значение, состояние, описание, живой регион
* Другие события: оповещение
* События UIA: контроллер для, перетаскивание целевых эффектов, выбран
  элемент, состояние элемента, макет недействителен, уведомление, системное
  оповещение, изменение текста, открыта всплывающая подсказка, открыто окно

Для каждого события будет записана следующая информация:

* Название события
* Объект
* Название объекта
* Роль объекта
* Значение или состояние объекта в зависимости от событий
* Модуль приложения
* Для объектов IAccessible: acc name, child ID
* Для объектов UIA: Идентификатор автоматизации, название класса, свойства
  уведомления при записи информации о событии уведомления, количество
  дочерних элементов для события, признанного недействительным в макете,
  свойства состояния элемента, перетаскивания и целевого эффекта
  перетаскивания, если они определены

Вы также можете назначить жест для просмотра событий в списке (меню
NVDA/Параметры/Жесты ввода, категория отслеживания событий). В списке
сохраняется до 100 последних обработанных событий.

Если вы считаете это дополнение полезным, пожалуйста, [оставьте отзыв о
нём][1] в магазине дополнений NVDA.

## Версия 25.1.0

* Совместимость с NVDA 2025.1.
* Требуется NVDA 2024.1 или выше из -за обновления Python 3.11.
* Восстановлена ограниченная поддержка Windows 8.1.
* Код дополнения сделан более надёжно с помощью Pyright (проверка
  статического типа Python).
* NVDA будет записывать фактическое имя роли управления вместо целых чисел
  при сообщении о событиях.

## Версия 24.1.0

* Совместимость с NVDA 2024.1.
* opensourcesys/evtTracker #4: Описание первого события больше не
  отсутствует при первом открытии просмотрщика событий. При участии:
  WangFeng Huang (hwf1324)

## Версия 23.02

* Требуется NVDA 2022.4 или выше.
* Требуется Windows 10 21H2 (обновление от ноября 2021 года/сборка 19044)
  или позднее.
* Событие оповещения (в основном для объектов, доступных для IAccessible)
  будет отслеживаться.

## Версия 23.01

* Требуется NVDA 2022.3 или выше.
* Требуется Windows 10 или выше, поскольку Windows 7, 8 и 8.1 больше не
  поддерживаются Корпорацией Майкрософт с января 2023 года.

## Версия 22.12

* Добавлен диалог списка событий (команда не назначена) для отображения до
  100 последних событий, записанных дополнением (Thiago Seus).
* Дополнительная информация о событиях, такая как свойства уведомлений UIA,
  записывается одновременно с событиями.

## Версия 22.10

* В целях безопасности требуется NVDA 2022.2 или выше.
* Отслеживаются следующие изменения свойств UIA: эффект перетаскивания,
  эффект перетаскивания цели.
* Регистрируется текст свойства статуса элемента UIA.
* NVDA больше не будет воспроизводить сигналы об ошибках или, как
  представляется, ничего не будет делать, если объект не определяет имя
  класса окна.

## Версия 22.06

* В целях безопасности требуется NVDA 2021.3 или выше.

## Версия 21.10

* Требуется NVDA 2021.2 или выше из-за изменений в NVDA, которые влияют на
  это дополнение.
* Событие, при котором макет UIA был признан недействительным, будет
  отслеживаться.
* Информация о роли и состояниях объекта будет похожа на информацию
  разработчика, которую можно найти в более поздних версиях NVDA.

## Версия 21.07

* Первоначальный выпуск.

[1]: https://github.com/nvaccess/addon-datastore/discussions/2717
